/* Optimizaciones ultra-eficientes para el Sidebar */

/* Contenedor principal del sidebar - GPU acceleration y containment */
aside[role="navigation"] {
  transform: translateZ(0);
  backface-visibility: hidden;
  contain: layout style paint;
  will-change: width;
}

/* Estados específicos del sidebar para evitar recálculos */
aside[data-collapsed="true"] {
  contain: size layout style paint;
}

aside[data-collapsed="false"] {
  contain: layout style paint;
}

/* Optimización para transiciones - usar transform en lugar de width cuando sea posible */
aside .transition-all {
  transition-property: transform, opacity, padding, margin;
  transition-timing-function: cubic-bezier(0.23, 1, 0.32, 1);
  transition-duration: 150ms;
}

/* Contenido que puede causar reflow - contenerlo */
aside .truncate,
aside nav,
aside .space-y-2 > * {
  contain: layout;
}

/* Optimización para hover states - evitar layout thrashing */
aside a:hover,
aside button:hover {
  contain: layout style;
}

/* Forzar layer de composición para elementos animados */
aside img,
aside svg,
aside [class*="transition"] {
  will-change: auto;
  transform: translateZ(0);
}

/* Optimización específica para el toggle rápido */
@media (prefers-reduced-motion: no-preference) {
  aside {
    transition: width 150ms cubic-bezier(0.23, 1, 0.32, 1);
  }
}