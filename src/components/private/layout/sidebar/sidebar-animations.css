/* Optimizaciones ultra-eficientes para el Sidebar */

/* Contenedor principal del sidebar - GPU acceleration y containment */
aside[role="navigation"] {
  transform: translateZ(0);
  backface-visibility: hidden;
  contain: layout style paint;
  will-change: width;
}

/* Estados específicos del sidebar para evitar recálculos */
aside[data-collapsed="true"] {
  contain: size layout style paint;
}

aside[data-collapsed="false"] {
  contain: layout style paint;
}

/* Optimización para transiciones rápidas y suaves */
aside .transition-all {
  transition-property: transform, opacity, padding, margin;
  transition-timing-function: cubic-bezier(0.25, 0.46, 0.45, 0.94);
  transition-duration: 120ms; /* Más rápido para toggles múltiples */
}

/* Contenido que puede causar reflow - contenerlo */
aside .truncate,
aside nav,
aside .space-y-2 > * {
  contain: layout;
}

/* Optimización para hover states - evitar layout thrashing */
aside a:hover,
aside button:hover {
  contain: layout style;
}

/* Forzar layer de composición para elementos animados */
aside img,
aside svg,
aside [class*="transition"] {
  will-change: auto;
  transform: translateZ(0);
}

/* Optimización específica para toggles rápidos múltiples */
@media (prefers-reduced-motion: no-preference) {
  aside {
    transition: width 120ms cubic-bezier(0.25, 0.46, 0.45, 0.94);
  }
  
  /* Evitar acumulación de transiciones en toggles rápidos */
  aside * {
    transition-delay: 0ms !important;
  }
}